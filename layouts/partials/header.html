<!-- begin header -->
<header class="c-header">
  <div class="container">
    <div class="row">
      <div class="c-header__inner">

        <div class="logo">
          <a class="logo__link" href="{{ .Site.BaseURL }}">
            {{ with .Site.Params.logo_image }}
              <img class="logo__image" src="{{ . | relURL }}" alt="{{ $.Site.Title }}">
            {{ else }}
              {{ .Site.Title }}
            {{ end }}
          </a>
        </div>

        {{ with .Site.Params.navigation }}
        <nav class="main-nav">
          <div class="main-nav__box">
            <div class="nav__icon-close">
              <i class="ion ion-md-close"></i>
            </div>

            <div class="nav__title">{{ i18n "menu" }}</div>

            <ul class="nav__list list-reset">
              {{ $current := strings.TrimSuffix "/" $.Permalink }}
              {{ range . }}
                {{ $item := . }}
                {{ $rawUrl := $item.url }}
                {{ $url := $rawUrl }}
                {{ if and $rawUrl (not (or (strings.HasPrefix $rawUrl "http") (strings.HasPrefix $rawUrl "mailto:") (strings.HasPrefix $rawUrl "tel:"))) }}
                  {{ $url = $rawUrl | relLangURL }}
                {{ end }}
                {{ $isActive := and $url (eq (strings.TrimSuffix "/" $url) $current) }}

                {{ with $item.submenu }}
                  <li class="nav__item dropdown">
                    <span class="nav__link dropdown-toggle">{{ $item.title }} <i class="ion ion-ios-arrow-down arrow-down"></i></span>
                    <div class="dropdown-menu">
                      {{ range . }}
                        {{ $subRawUrl := .url }}
                        {{ $subUrl := $subRawUrl }}
                        {{ if and $subRawUrl (not (or (strings.HasPrefix $subRawUrl "http") (strings.HasPrefix $subRawUrl "mailto:") (strings.HasPrefix $subRawUrl "tel:"))) }}
                          {{ $subUrl = $subRawUrl | relLangURL }}
                        {{ end }}
                        {{ $subActive := and $subUrl (eq (strings.TrimSuffix "/" $subUrl) $current) }}
                        <a href="{{ $subUrl }}" class="nav__link {{ if $subActive }}active-link{{ end }}">{{ .title }}</a>
                      {{ end }}
                    </div>
                  </li>
                {{ else }}
                  <li class="nav__item">
                    <a href="{{ $url }}" class="nav__link {{ if $isActive }}active-link{{ end }}">{{ $item.title }}</a>
                  </li>
                {{ end }}
              {{ end }}
            </ul>
          </div>

          {{ partial "social-link.html" $ }}

          {{ if hugo.IsMultilingual }}
          <div class="lang-switcher" aria-label="Language switcher">
            <button class="lang-switcher__toggle" type="button" aria-label="Switch language">
              <i class="ion ion-md-globe"></i>
            </button>
            <div class="lang-switcher__menu" role="menu">
              {{ range $.Site.Home.AllTranslations }}
                {{ $isCurrent := eq .Lang $.Site.Language.Lang }}
                <a class="lang-switcher__link {{ if $isCurrent }}is-active{{ end }}" href="{{ .RelPermalink }}" role="menuitem">{{ .Language.LanguageName }}</a>
              {{ end }}
            </div>
          </div>
          {{ end }}
        </nav>

        <div class="nav-button">
          <i class="nav__icon nav__icon-menu ion ion-md-menu"></i>
        </div>
        {{ end }}

      </div>
    </div>
  </div>
</header>
<!-- end header -->
